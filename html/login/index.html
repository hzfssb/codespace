<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="styles.css">
    <title>Login Page</title>
</head>

<body>
    <div class="music">
        <div class="music_head">
            <div class="back">
                <img src="左箭头.png" alt="Back Arrow">
            </div>
            <div class="title">
                <img src="网易云音乐.png" alt="网易云音乐 Logo">
                <text>网易云音乐</text>
            </div>
        </div>
        <div class="music_body">
            <div class="input">
                <input type="email" id="email" name="email" placeholder="登录邮箱">
                <input type="password" id="password" name="password" placeholder="密码">
            </div>
            <div class="mybutton">
                <button id="button">登录</button>
            </div>
            <div class="text">
                <a href="#" class="reset-link">重设密码</a>
            </div> 


        </div>



    </div>
   
    <div class="modal" id="modal">
        <p>登录成功</p>
    </div>

    <script>
        let btn = document.getElementById('button');
        let username = document.getElementById('email');
        let password = document.getElementById('password');
        let overlay = document.getElementById('overlay');
        let modal = document.getElementById('modal');

        btn.addEventListener('click', () => {
            let xhr = new XMLHttpRequest();
            xhr.open('GET', `http://192.168.31.45:3000/login?username=${username.value}&password=${password.value}`, true);

            // 模拟登录成功
            xhr.onload = function () {
                if (xhr.status >= 200 && xhr.status < 300) {
                    // 显示弹出框和遮罩层
                    overlay.style.display = 'block';
                    modal.style.display = 'block';

                    // 隐藏弹出框和遮罩层
                    setTimeout(() => {
                        overlay.style.display = 'none';
                        modal.style.display = 'none';
                    }, 2000); // 2秒后隐藏
                } else {
                    // 处理登录失败的逻辑
                    console.error('登录失败');
                }
            };

            xhr.send();
        });

    </script>

</body>

</html>